<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="/icon.png">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles/style.css">
    <link rel="stylesheet" href="/styles/event.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css"
        integrity="sha384-dpuaG1suU0eT09tx5plTaGMLBsfDLzUCCUXOY2j/LSvXYuG6Bqs43ALlhIqAJVRb" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <title>Chepe Trips</title>
</head>

<body>
    <header class="header">
        <div class="box-logo">
            <a href="" class="logo">Chepe Trips</a>
        </div>
        <nav class="navbar navbar-expand-md">
            <a href="/index.html" class="active">Home</a>
            <div class="dropdown">
                <a href="/Views/destinations.html" class="dropdown-toggle">Destinations </a>
                <div class="dropdown-menu">
                    <div class="dropdown-content">
                        <img src="/asset/planetario.jpg" alt="Planetario" class="dropdown-image">
                        <div class="dropdown-text">
                            <h2>Destinations in San José</h2>
                            <a href="/Views/destinations.html#carpio">La Carpio</a>
                            <a href="/Views/destinations.html#hatillo">Hatillo</a>
                            <a href="/Views/destinations.html#leonXIII">León XIII</a>
                            <a href="/Views/destinations.html#desampa">Desampakistan</a>
                        </div>
                    </div>
                </div>
            </div>
            <a href="/Views/tours.html">Tours</a>
            <a href="/Views/contacts.html">Contact</a>
            <i class="fa-solid fa-magnifying-glass nav-icon" id="searchBtn"></i>
            <div id="form-open" class="user-icon" style="margin-left: 20px;">
                <i class="fa-solid fa-user"></i>
            </div>
            <div id="userDropdown" class="user-dropdown hidden">
                <ul>
                    <a href="/User/userHome.html" id="profileLink" style="color: blue; text-decoration: none !important;">My Profile</a>
                    <li><button id="logoutButton" style="margin-top: 10px;">Log Out</button></li>
                </ul>
            </div>
            
            <div class="searchBox" id="searchBox">
                <input id="searchInput" type="text" placeholder="Search here...">
                <i class="fa-solid fa-xmark nav-icon" id="closeSearch"></i>
            </div>
        </nav>
    </header>

    <section class="home">
        <div class="form_container">
            <i class="fa-solid fa-xmark form_close" id="closeLoginBtn"></i>
    
            <div class="form login-form active">
                <form id="login-form" action="#">
                    <h2>Log In</h2>
                    <div class="input_box">
                        <i class="fa-regular fa-envelope"></i>
                        <input type="email" placeholder="Enter your email" id="login-email" required>
                    </div>
                    <div class="input_box">
                        <i class="fa-solid fa-lock"></i>
                        <input type="password" placeholder="Enter your password" id="login-password" required>
                    </div>
                    <div class="option_field">
                        <span class="checkbox">
                            <input type="checkbox" id="check">
                            <label for="check">Remember me</label>
                        </span>
                        <a href="#" class="forgot_pw">Forgot your password?</a>
                    </div>
                    <button class="button" type="submit" id="submitBtn">Log In</button>
                    <div class="login_signup">Don't have an account? <a href="#" id="show-signup-form">Sign Up</a></div>
                </form>
            </div>
    
            <div class="form signup_form">
                <form id="signup-form">
                    <h2>Register</h2>
                    <div class="input_box">
                        <i class="fa-regular fa-user"></i>
                        <input type="text" id="signup-name" placeholder="Enter your name" required>
                    </div>
                    
                    <div class="input_box">
                        <i class="fa-regular fa-envelope"></i>
                        <input type="email" id="signup-email" placeholder="Add your email" required>
                    </div>
                    <div class="input_box">
                        <i class="fa-solid fa-lock"></i>
                        <input type="password" id="signup-password" placeholder="Add your password" required>
                    </div>
                    <div class="input_box">
                        <i class="fa-solid fa-lock"></i>
                        <input type="password" id="confirm-password" placeholder="Confirm password" required>
                    </div>
                    <div id="signup-error-message" class="error-message"></div>
                    <button id="submit" type="submit" class="button">Register</button>
                    <div class="login_signup">Already have an account? <a href="#" id="show-login-form">Log In</a></div>
                </form>
            </div>
        </div>
    </section>

    <!-- tours.html -->
    <section>
        <div class="container">
            <div class="image-section">
                <img id="tour-image" src="" alt="Tour Image" />
            </div>
            <div class="content">
                <div class="info">
                    <span class="location">
                        <span id="tour-category"></span>
                    </span>
                    <div class="header-row">
                        <div class="text-content">
                            <h1 id="tour-title"></h1>
                            <p id="tour-description"></p>
                        </div>
                        <div class="order-box">
                            <p class="price-text">from</p>
                            <p><strong id="tour-price"></strong></p>
                            <p class="commission-text">+ commission for the order from<br>one person</p>
                            <button class="order-button">Order</button>
                        </div>
                    </div>
                </div>
                <div class="travel-plan">
                    <h2>Actividades</h2>
                    <ul id="tour-activities">
                    </ul>
                </div>
                

                <div class="calendar-section">
                    <h3>Select your date</h3>
                    <input type="date" id="tour-date" value="2024-11-30" min="2024-12-01" max="2025-06-30">
                </div>

                <div class="map-links">
                    <h3>Get directions to <span id="tour-location"></span></h3>
                    <a id="google-map-link" href="" target="_blank" class="map-link-button">
                        <i class="fas fa-map-marker-alt" style="font-size: 40px; vertical-align: middle;"></i> Open in
                        Google Maps
                    </a>
                    <a id="waze-link" href="" target="_blank" class="map-link-button">
                        <i class="fas fa-map-signs" style="font-size: 40px; vertical-align: middle;"></i> Open in Waze
                    </a>
                </div>

            </div>

        </div>

        
    </section>
    
    <script>
 // Obtener los parámetros de la URL
const urlParams = new URLSearchParams(window.location.search);
const title = urlParams.get('title') || 'Sin título';
const price = urlParams.get('price') || 'Precio no disponible';
const image = urlParams.get('image') || 'default-image.jpg'; // Asegúrate que la URL de la imagen esté correcta
const description = urlParams.get('description') || 'Descripción no disponible';
const category = urlParams.get('category') || 'Sin categoría';
const tourLocation = urlParams.get('location') && urlParams.get('location') !== 'undefined' ? urlParams.get('location') : 'San José, Costa Rica'; // Ubicación predeterminada
const activities = urlParams.get('activities') 
    ? urlParams.get('activities').split(/[\s,]+/): []; 
const date = urlParams.get('date'); 

// Asignar los valores a los elementos correspondientes
document.getElementById('tour-title').innerText = title;
document.getElementById('tour-price').innerText = `$${price}`;
document.getElementById('tour-image').src = image;        
document.getElementById('tour-description').innerText = description;
document.getElementById('tour-category').innerText = category;
document.getElementById('tour-location').innerText = tourLocation;

const activitiesList = document.getElementById('tour-activities');
activities.forEach(activity => {
    const li = document.createElement('li');  // Crear un elemento de lista <li>
    li.textContent = activity;  // Establecer el texto de la actividad
    activitiesList.appendChild(li);  // Agregar el elemento <li> a la lista <ul>
});


// Asignar la fecha seleccionada
if (date) {
    // Si la fecha está presente en la URL, mostrarla
    document.getElementById('tour-date').value = date;

    // Configurar los atributos min y max para que solo se pueda seleccionar esa fecha
    const dateInput = document.getElementById('tour-date');
    dateInput.setAttribute('min', date);  // Fecha mínima (la misma fecha)
    dateInput.setAttribute('max', date);  // Fecha máxima (la misma fecha)
} else {
    // Si no hay fecha en la URL, establecer un valor predeterminado
    document.getElementById('tour-date').value = 'Fecha no disponible';
}

// Configurar enlaces de Google Maps y Waze con la ubicación correcta
const googleMapLink = document.getElementById('google-map-link');
const wazeLink = document.getElementById('waze-link');

// Reemplazar 'tourLocation' con una dirección válida
googleMapLink.href = `https://www.google.com/maps?q=${encodeURIComponent(tourLocation)}`;
wazeLink.href = `https://waze.com/ul?ll=${encodeURIComponent(tourLocation)}&navigate=yes`;


    </script>
       
    <script src="https://www.gstatic.com/firebasejs/10.3.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.3.1/firebase-auth-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script type="module" src="/script.js" defer></script>
    <script type="module" src="/register.js" defer></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

</body>

</html>
